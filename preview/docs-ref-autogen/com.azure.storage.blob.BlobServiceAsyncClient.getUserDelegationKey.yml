### YamlMime:JavaMember
uid: com.azure.storage.blob.BlobServiceAsyncClient.getUserDelegationKey*
fullName: com.azure.storage.blob.BlobServiceAsyncClient.getUserDelegationKey
name: getUserDelegationKey
nameWithType: BlobServiceAsyncClient.getUserDelegationKey
members:
- uid: com.azure.storage.blob.BlobServiceAsyncClient.getUserDelegationKey(java.time.OffsetDateTime,java.time.OffsetDateTime)
  fullName: com.azure.storage.blob.BlobServiceAsyncClient.getUserDelegationKey(OffsetDateTime start, OffsetDateTime expiry)
  name: getUserDelegationKey(OffsetDateTime start, OffsetDateTime expiry)
  nameWithType: BlobServiceAsyncClient.getUserDelegationKey(OffsetDateTime start, OffsetDateTime expiry)
  summary: |-
    Gets a user delegation key for use with this account's blob storage. Note: This method call is only valid when
     using <xref uid="TokenCredential" data-throw-if-not-resolved="false">TokenCredential</xref> in this object's <xref uid="HttpPipeline" data-throw-if-not-resolved="false">HttpPipeline</xref>.

     <p><strong>Code Samples</strong></p>

     <pre>
     client.getUserDelegationKey&#40;delegationKeyStartTime, delegationKeyExpiryTime&#41;.subscribe&#40;response -&gt;
         System.out.printf&#40;&quot;User delegation key: %s%n&quot;, response.getValue&#40;&#41;&#41;&#41;;
     </pre>
  parameters:
  - description: Start time for the key's validity. Null indicates immediate start.
    name: start
    type: <xref href="java.time.OffsetDateTime?alt=java.time.OffsetDateTime&text=OffsetDateTime" data-throw-if-not-resolved="False" />
  - description: Expiration of the key's validity.
    name: expiry
    type: <xref href="java.time.OffsetDateTime?alt=java.time.OffsetDateTime&text=OffsetDateTime" data-throw-if-not-resolved="False" />
  syntax: public Mono<UserDelegationKey> getUserDelegationKey(OffsetDateTime start, OffsetDateTime expiry)
  returns:
    description: A <xref uid="Mono" data-throw-if-not-resolved="false">Mono</xref> containing the user delegation key.
    type: <xref href="reactor.core.publisher.Mono?alt=reactor.core.publisher.Mono&text=Mono" data-throw-if-not-resolved="False" />&lt;<xref href="com.azure.storage.blob.models.UserDelegationKey?alt=com.azure.storage.blob.models.UserDelegationKey&text=UserDelegationKey" data-throw-if-not-resolved="False" />&gt;
type: method
metadata: {}
package: com.azure.storage.blob
artifact: com.azure:azure-storage-blob:12.8.0-beta.1
